# SHARDING / СЕГМЕНТИРОВАНИЕ
Бывают ситуации, когда много потоков работают с большой структурой данных и каждый поток требует блокировку.

Необходимо отметить:
1. Конфликт блокировок - когда процессы начинают тратить больше времени на ожидание освобождения блокировки, чем на работу.
2. Горизонтальное сегментирование - разделение данных между экземплярами службы.
3. Вертикальное сегментирование - разделение данных в пределах одного экземпляра(разделение структуры на части). 

Горизонтальное масштабирование может помочь решить проблему частых блокировок, но оно имеет ряд недостатков:
1. Увеличивается сложность.
2. Увеличивается время задержек, т.к. потребуется поддерживать распределенные блокировки для получения согласованных данных.